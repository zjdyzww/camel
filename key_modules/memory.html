
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Memory &#8212; CAMEL 0.2.60 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=3c972f42" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=864201f8"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'key_modules/memory';</script>
    <link rel="icon" href="https://raw.githubusercontent.com/camel-ai/camel/master/misc/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Tools" href="tools.html" />
    <link rel="prev" title="Message" href="messages.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="https://raw.githubusercontent.com/camel-ai/camel/master/misc/logo_light.png" class="logo__image only-light" alt=""/>
    <script>document.write(`<img src="https://raw.githubusercontent.com/camel-ai/camel/master/misc/logo_light.png" class="logo__image only-dark" alt=""/>`);</script>
  
  
    <p class="title logo__title">CAMEL 0.2.60</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Get Started</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../get_started/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/setup.html">API Setup</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Key Modules</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="agents.html">Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="datagen.html">Data Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="models.html">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="messages.html">Message</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Memory</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="prompts.html">Prompt</a></li>
<li class="toctree-l1"><a class="reference internal" href="runtimes.html">Runtime</a></li>
<li class="toctree-l1"><a class="reference internal" href="tasks.html">Task</a></li>
<li class="toctree-l1"><a class="reference internal" href="loaders.html">Loaders</a></li>
<li class="toctree-l1"><a class="reference internal" href="storages.html">Storages</a></li>
<li class="toctree-l1"><a class="reference internal" href="society.html">Society</a></li>
<li class="toctree-l1"><a class="reference internal" href="embeddings.html">Embeddings</a></li>
<li class="toctree-l1"><a class="reference internal" href="retrievers.html">Retrievers</a></li>
<li class="toctree-l1"><a class="reference internal" href="workforce.html">Workforce</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Cookbooks</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../cookbooks/basic_concepts/index.html">Basic Concepts</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/basic_concepts/create_your_first_agent.html">Creating Your First Agent</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/basic_concepts/create_your_first_agents_society.html">Creating Your First Agent Society</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/basic_concepts/agents_message.html">Message Cookbook</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/basic_concepts/agents_prompting.html">Prompting Cookbook</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/basic_concepts/model_speed_comparison.html">Model Speed Comparison Cookbook</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../cookbooks/advanced_features/index.html">Advanced Features</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/advanced_features/agents_with_tools.html">Tools Cookbook</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/advanced_features/agents_with_tools_from_ACI.html">Using Tools from ACI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/advanced_features/agents_with_tools_from_Composio.html">Using Tools from Composio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/advanced_features/agents_with_human_in_loop_and_tool_approval.html">Agents with Human-in-loop and Tool Approval from HumanLayer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/advanced_features/agents_with_memory.html">Memory Cookbook</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/advanced_features/agents_with_rag.html">RAG Cookbook</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/advanced_features/agents_with_graph_rag.html">Graph RAG Cookbook</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/advanced_features/agents_with_MCP.html">CAMEL MCP Cookbook</a></li>

<li class="toctree-l2"><a class="reference internal" href="../cookbooks/advanced_features/agents_tracking.html">Track CAMEL Agents with AgentOps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/advanced_features/critic_agents_and_tree_search.html">Critic Agents and Tree Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/advanced_features/embodied_agents.html">Embodied Agents</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../cookbooks/multi_agent_society/index.html">Multi-agent Society</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/multi_agent_society/agents_society.html">Develop Trading Bot with Role Playing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/multi_agent_society/workforce_judge_committee.html">Create A Hackathon Judge Committee with Workforce</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/multi_agent_society/task_generation.html">Task Generation Cookbook</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../cookbooks/data_generation/index.html">Agentic Data Generation</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/data_generation/sft_data_generation_and_unsloth_finetuning_mistral_7b_instruct.html">Agentic SFT Data generation with CAMEL and finetuning Mistral models with Unsloth</a></li>

<li class="toctree-l2"><a class="reference internal" href="../cookbooks/data_generation/sft_data_generation_and_unsloth_finetuning_Qwen2_5_7B.html">Agentic Data generation with CAMEL and finetuning Qwen models with Unsloth</a></li>

<li class="toctree-l2"><a class="reference internal" href="../cookbooks/data_generation/sft_data_generation_and_unsloth_finetuning_tinyllama.html">Agentic SFT Data generation with CAMEL and finetuning Meta models with Unsloth</a></li>

<li class="toctree-l2"><a class="reference internal" href="../cookbooks/data_generation/data_gen_with_real_function_calls_and_hermes_format.html">Real Function Calls and Hermes Format Data Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/data_generation/self_instruct_data_generation.html">Self-instruct Data Generation Using Qwen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/data_generation/cot_data_gen_sft_qwen_unsolth_upload_huggingface.html">CoT Data Generation and SFT Qwen With Unsloth</a></li>


<li class="toctree-l2"><a class="reference internal" href="../cookbooks/data_generation/synthetic_dataevaluation%26filter_with_reward_model.html">Agentic Data Generation, Evaluation &amp; Filtering with Reward Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/data_generation/data_model_generation_and_structured_output_with_qwen.html">Agentic Data Model Generation and Structured Output Powered by CAMEL &amp; Qwen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/data_generation/distill_math_reasoning_data_from_deepseek_r1.html">Distill Math Reasoning Data from DeepSeek R1 with CAMEL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/data_generation/self_improving_math_reasoning_data_distillation_from_deepSeek_r1.html">Self-Improving Math Reasoning Data Distillation from DeepSeek R1 with CAMEL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/data_generation/self_improving_cot_generation.html">Deep Dive into CAMEL’s Practices for Self-Improving CoT Generation 🚀</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../cookbooks/applications/index.html">Applications</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/applications/roleplaying_scraper.html">Role-Playing Scraper for Report &amp; Knowledge Graph Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/applications/dynamic_travel_planner.html">Dynamic Travel Planner Role-Playing: Multi-Agent System with Real-Time Insights Powered by Dappier</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/applications/customer_service_Discord_bot_with_agentic_RAG.html">Customer Service Discord Bot with Agentic RAG</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/applications/customer_service_Discord_bot_using_SambaNova_with_agentic_RAG.html">Customer Service Discord Bot Using SambaNova with Agentic RAG</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/applications/customer_service_Discord_bot_using_local_model_with_agentic_RAG.html">Customer Service Discord Bot Using Local Models with Agentic RAG</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/applications/finance_discord_bot.html">Customer Service Discord Bot for Finance with OpenBB</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../cookbooks/data_processing/index.html">Data Processing and Analysis</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/data_processing/video_analysis.html">Video Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/data_processing/agent_with_chunkr_for_pdf_parsing.html">Create AI Agents that work with your PDFs using Chunkr &amp; Mistral AI</a></li>

<li class="toctree-l2"><a class="reference internal" href="../cookbooks/data_processing/ingest_data_from_websites_with_Firecrawl.html">3 ways to ingest data from websites with Firecrawl</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../cookbooks/loong/index.html">Loong Cookbooks</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/loong/batched_single_step_env.html">Batched Single Step Environment in Camel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/loong/multi_step_rl.html">Tic Tac Toe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/loong/single_step_env.html">Single Step Environment in Camel</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../cookbooks/mcp/index.html">MCP Cookbooks</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../cookbooks/mcp/agents_with_sql_mcp.html">CAMEL Cookbook: SQL MCP Server</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">API References</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../modules.html">camel</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../camel.html">camel package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../camel.agents.html">camel.agents package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../camel.agents.tool_agents.html">camel.agents.tool_agents package</a></li>
</ul>
</details></li>
<li class="toctree-l3"><a class="reference internal" href="../camel.configs.html">camel.configs package</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../camel.datagen.html">camel.datagen package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../camel.datagen.self_instruct.html">camel.datagen.self_instruct package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../camel.datagen.source2synth.html">camel.datagen.source2synth package</a></li>
</ul>
</details></li>
<li class="toctree-l3"><a class="reference internal" href="../camel.embeddings.html">camel.embeddings package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../camel.interpreters.html">camel.interpreters package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../camel.loaders.html">camel.loaders package</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../camel.memories.html">camel.memories package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../camel.memories.blocks.html">camel.memories.blocks package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../camel.memories.context_creators.html">camel.memories.context_creators package</a></li>
</ul>
</details></li>
<li class="toctree-l3"><a class="reference internal" href="../camel.messages.html">camel.messages package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../camel.models.html">camel.models package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../camel.prompts.html">camel.prompts package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../camel.responses.html">camel.responses package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../camel.retrievers.html">camel.retrievers package</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../camel.societies.html">camel.societies package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../camel.societies.workforce.html">camel.societies.workforce package</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../camel.storages.html">camel.storages package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../camel.storages.graph_storages.html">camel.storages.graph_storages package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../camel.storages.key_value_storages.html">camel.storages.key_value_storages package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../camel.storages.object_storages.html">camel.storages.object_storages package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../camel.storages.vectordb_storages.html">camel.storages.vectordb_storages package</a></li>
</ul>
</details></li>
<li class="toctree-l3"><a class="reference internal" href="../camel.tasks.html">camel.tasks package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../camel.terminators.html">camel.terminators package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../camel.toolkits.html">camel.toolkits package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../camel.types.html">camel.types package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../camel.utils.html">camel.utils package</a></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/camel-ai/camel" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/camel-ai/camel/edit/main/key_modules/memory.md" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/camel-ai/camel/issues/new?title=Issue%20on%20page%20%2Fkey_modules/memory.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/key_modules/memory.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Memory</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> On this page </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#concept">1. Concept</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#get-started">2. Get Started</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-usage">2.1 Basic Usage</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#core-components">3. Core Components</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#memoryrecord">3.1 MemoryRecord</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#contextrecord">3.2 ContextRecord</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#memoryblock-abstract-base-class">3.3 MemoryBlock (Abstract Base Class)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#basecontextcreator-abstract-base-class">3.4 BaseContextCreator (Abstract Base Class)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#agentmemory-abstract-base-class">3.5 AgentMemory (Abstract Base Class)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#memory-block-implementations">4. Memory Block Implementations</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#chathistoryblock">4.1 ChatHistoryBlock</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vectordbblock">4.2 VectorDBBlock</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#agent-memory-implementations">5. Agent Memory Implementations</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#chathistorymemory">5.1 ChatHistoryMemory</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vectordbmemory">5.2 VectorDBMemory</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#longtermagentmemory">5.3 LongtermAgentMemory</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mem0storage-integration">5.4 Mem0Storage Integration</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#advanced-topics">6. Advanced Topics</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#customizing-context-creator">6.1 Customizing Context Creator</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#customizing-vector-database-block">6.2 Customizing Vector Database Block</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#performance-considerations">6.3 Performance Considerations</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="memory">
<h1>Memory<a class="headerlink" href="#memory" title="Link to this heading">#</a></h1>
<p>For more detailed usage information, please refer to our cookbook: <a class="reference internal" href="../cookbooks/advanced_features/agents_with_memory.html"><span class="std std-doc">Memory Cookbook</span></a></p>
<section id="concept">
<h2>1. Concept<a class="headerlink" href="#concept" title="Link to this heading">#</a></h2>
<p>The Memory module in CAMEL provides a flexible and powerful system for storing, retrieving, and managing information for AI agents. It enables agents to maintain context across conversations and retrieve relevant information from past interactions, enhancing the coherence and relevance of AI responses.</p>
</section>
<section id="get-started">
<h2>2. Get Started<a class="headerlink" href="#get-started" title="Link to this heading">#</a></h2>
<section id="basic-usage">
<h3>2.1 Basic Usage<a class="headerlink" href="#basic-usage" title="Link to this heading">#</a></h3>
<p>Here’s a quick example of how to use the <code class="docutils literal notranslate"><span class="pre">LongtermAgentMemory</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">camel.memories</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">ChatHistoryBlock</span><span class="p">,</span>
    <span class="n">LongtermAgentMemory</span><span class="p">,</span>
    <span class="n">MemoryRecord</span><span class="p">,</span>
    <span class="n">ScoreBasedContextCreator</span><span class="p">,</span>
    <span class="n">VectorDBBlock</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">camel.messages</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseMessage</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">camel.types</span><span class="w"> </span><span class="kn">import</span> <span class="n">ModelType</span><span class="p">,</span> <span class="n">OpenAIBackendRole</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">camel.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">OpenAITokenCounter</span>

<span class="c1"># Initialize the memory</span>
<span class="n">memory</span> <span class="o">=</span> <span class="n">LongtermAgentMemory</span><span class="p">(</span>
    <span class="n">context_creator</span><span class="o">=</span><span class="n">ScoreBasedContextCreator</span><span class="p">(</span>
        <span class="n">token_counter</span><span class="o">=</span><span class="n">OpenAITokenCounter</span><span class="p">(</span><span class="n">ModelType</span><span class="o">.</span><span class="n">GPT_4O_MINI</span><span class="p">),</span>
        <span class="n">token_limit</span><span class="o">=</span><span class="mi">1024</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">chat_history_block</span><span class="o">=</span><span class="n">ChatHistoryBlock</span><span class="p">(),</span>
    <span class="n">vector_db_block</span><span class="o">=</span><span class="n">VectorDBBlock</span><span class="p">(),</span>
<span class="p">)</span>

<span class="c1"># Create and write new records</span>
<span class="n">records</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">MemoryRecord</span><span class="p">(</span>
        <span class="n">message</span><span class="o">=</span><span class="n">BaseMessage</span><span class="o">.</span><span class="n">make_user_message</span><span class="p">(</span>
            <span class="n">role_name</span><span class="o">=</span><span class="s2">&quot;User&quot;</span><span class="p">,</span>
            <span class="n">meta_dict</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">content</span><span class="o">=</span><span class="s2">&quot;What is CAMEL AI?&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">role_at_backend</span><span class="o">=</span><span class="n">OpenAIBackendRole</span><span class="o">.</span><span class="n">USER</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">MemoryRecord</span><span class="p">(</span>
        <span class="n">message</span><span class="o">=</span><span class="n">BaseMessage</span><span class="o">.</span><span class="n">make_assistant_message</span><span class="p">(</span>
            <span class="n">role_name</span><span class="o">=</span><span class="s2">&quot;Agent&quot;</span><span class="p">,</span>
            <span class="n">meta_dict</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">content</span><span class="o">=</span><span class="s2">&quot;CAMEL-AI.org is the 1st LLM multi-agent framework and &quot;</span>
                    <span class="s2">&quot;an open-source community dedicated to finding the scaling law &quot;</span>
                    <span class="s2">&quot;of agents.&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">role_at_backend</span><span class="o">=</span><span class="n">OpenAIBackendRole</span><span class="o">.</span><span class="n">ASSISTANT</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">]</span>
<span class="n">memory</span><span class="o">.</span><span class="n">write_records</span><span class="p">(</span><span class="n">records</span><span class="p">)</span>

<span class="c1"># Get context for the agent</span>
<span class="n">context</span><span class="p">,</span> <span class="n">token_count</span> <span class="o">=</span> <span class="n">memory</span><span class="o">.</span><span class="n">get_context</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Retrieved context (token count: </span><span class="si">{</span><span class="n">token_count</span><span class="si">}</span><span class="s2">):&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">context</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; Retrieved context (token count: 49):
{&#39;role&#39;: &#39;user&#39;, &#39;content&#39;: &#39;What is AI?&#39;}
{&#39;role&#39;: &#39;assistant&#39;, &#39;content&#39;: &#39;AI refers to systems that mimic human intelligence.&#39;}
</pre></div>
</div>
<p>Adding <code class="docutils literal notranslate"><span class="pre">LongtermAgentMemory</span></code> to your <code class="docutils literal notranslate"><span class="pre">ChatAgent</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">camel.agents</span><span class="w"> </span><span class="kn">import</span> <span class="n">ChatAgent</span>

<span class="c1"># Define system message for the agent</span>
<span class="n">sys_msg</span> <span class="o">=</span> <span class="n">BaseMessage</span><span class="o">.</span><span class="n">make_assistant_message</span><span class="p">(</span>
    <span class="n">role_name</span><span class="o">=</span><span class="s1">&#39;Agent&#39;</span><span class="p">,</span>
    <span class="n">content</span><span class="o">=</span><span class="s1">&#39;You are a curious agent wondering about the universe.&#39;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Initialize agent</span>
<span class="n">agent</span> <span class="o">=</span> <span class="n">ChatAgent</span><span class="p">(</span><span class="n">system_message</span><span class="o">=</span><span class="n">sys_msg</span><span class="p">)</span>

<span class="c1"># Set memory to the agent</span>
<span class="n">agent</span><span class="o">.</span><span class="n">memory</span> <span class="o">=</span> <span class="n">memory</span>


<span class="c1"># Define a user message</span>
<span class="n">usr_msg</span> <span class="o">=</span> <span class="n">BaseMessage</span><span class="o">.</span><span class="n">make_user_message</span><span class="p">(</span>
    <span class="n">role_name</span><span class="o">=</span><span class="s1">&#39;User&#39;</span><span class="p">,</span>
    <span class="n">content</span><span class="o">=</span><span class="s2">&quot;Tell me which is the 1st LLM multi-agent framework based on what we have discussed&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Sending the message to the agent</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">agent</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="n">usr_msg</span><span class="p">)</span>

<span class="c1"># Check the response (just for illustrative purpose)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">msgs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; CAMEL AI is recognized as the first LLM (Large Language Model) multi-agent framework. It is an open-source community initiative focused on exploring the scaling laws of agents, enabling the development and interaction of multiple AI agents in a collaborative environment. This framework allows researchers and developers to experiment with various configurations and interactions among agents, facilitating advancements in AI capabilities and understanding.
</pre></div>
</div>
</section>
</section>
<section id="core-components">
<h2>3. Core Components<a class="headerlink" href="#core-components" title="Link to this heading">#</a></h2>
<section id="memoryrecord">
<h3>3.1 MemoryRecord<a class="headerlink" href="#memoryrecord" title="Link to this heading">#</a></h3>
<p>The basic data unit in the <code class="docutils literal notranslate"><span class="pre">CAMEL</span></code> memory system.</p>
<p>Attributes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">message</span></code>: The main content of the record (<code class="docutils literal notranslate"><span class="pre">BaseMessage</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">role_at_backend</span></code>: The role this message played at the OpenAI backend (<code class="docutils literal notranslate"><span class="pre">OpenAIBackendRole</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uuid</span></code>: A unique identifier for the record</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">extra_info</span></code>: Additional key-value pairs for extra information</p></li>
</ul>
<p>Methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code>: Static method to construct a <code class="docutils literal notranslate"><span class="pre">MemoryRecord</span></code> from a dictionary</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code>: Convert the <code class="docutils literal notranslate"><span class="pre">MemoryRecord</span></code> to a dictionary for serialization</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_openai_message()</span></code>: Convert the record to an <code class="docutils literal notranslate"><span class="pre">OpenAIMessage</span></code> object</p></li>
</ul>
</section>
<section id="contextrecord">
<h3>3.2 ContextRecord<a class="headerlink" href="#contextrecord" title="Link to this heading">#</a></h3>
<p>The result of memory retrieval from <code class="docutils literal notranslate"><span class="pre">AgentMemory</span></code>, which is used by <code class="docutils literal notranslate"><span class="pre">ContextCreator</span></code> to select records for creating the context for the agent.</p>
<p>Attributes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">memory_record</span></code>: A <code class="docutils literal notranslate"><span class="pre">MemoryRecord</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">score</span></code>: A float value representing the relevance or importance of the record</p></li>
</ul>
</section>
<section id="memoryblock-abstract-base-class">
<h3>3.3 MemoryBlock (Abstract Base Class)<a class="headerlink" href="#memoryblock-abstract-base-class" title="Link to this heading">#</a></h3>
<p>Serves as the fundamental component within the agent memory system. <code class="docutils literal notranslate"><span class="pre">MemoryBlock</span></code> class follows the “Composite Design pattern” so that you can compose objects into tree structures and then work with these structures as if they were individual objects.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">write_records()</span></code>: Write multiple records to memory</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">write_record()</span></code>: Write a single record to memory</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clear()</span></code>: Remove all records from memory</p></li>
</ul>
</section>
<section id="basecontextcreator-abstract-base-class">
<h3>3.4 BaseContextCreator (Abstract Base Class)<a class="headerlink" href="#basecontextcreator-abstract-base-class" title="Link to this heading">#</a></h3>
<p>Defines the context creation strategies when retrieval messages exceed the model’s context length.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">token_counter</span></code>: For counting tokens in a message</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">token_limit</span></code>: The maximum number of tokens allowed in the generated context</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">create_context()</span></code>: Create conversational context from chat history</p></li>
</ul>
</section>
<section id="agentmemory-abstract-base-class">
<h3>3.5 AgentMemory (Abstract Base Class)<a class="headerlink" href="#agentmemory-abstract-base-class" title="Link to this heading">#</a></h3>
<p>A specialized form of MemoryBlock designed for direct integration with an agent.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">retrieve()</span></code>: Get a list of <code class="docutils literal notranslate"><span class="pre">ContextRecords</span></code> from memory</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_context_creator()</span></code>: Get a context creator</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_context()</span></code>: Get chat context with a proper size for the agent</p></li>
</ul>
</section>
</section>
<section id="memory-block-implementations">
<h2>4. Memory Block Implementations<a class="headerlink" href="#memory-block-implementations" title="Link to this heading">#</a></h2>
<section id="chathistoryblock">
<h3>4.1 ChatHistoryBlock<a class="headerlink" href="#chathistoryblock" title="Link to this heading">#</a></h3>
<p>Stores all the chat histories and retrieves with optional window size.</p>
<p>Initialization:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">storage</span></code>: Optional <code class="docutils literal notranslate"><span class="pre">BaseKeyValueStorage</span></code> (default: <code class="docutils literal notranslate"><span class="pre">InMemoryKeyValueStorage</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keep_rate</span></code>: Float value for scoring historical messages (default: <code class="docutils literal notranslate"><span class="pre">0.9</span></code>)</p></li>
</ul>
<p>Methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">retrieve()</span></code>: Get recent chat history with optional window size</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">write_records()</span></code>: Write new records to chat history</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clear()</span></code>: Remove all chat messages</p></li>
</ul>
<p>Use Case: Ideal for maintaining recent conversation context and flow.</p>
</section>
<section id="vectordbblock">
<h3>4.2 VectorDBBlock<a class="headerlink" href="#vectordbblock" title="Link to this heading">#</a></h3>
<p>Uses vector embeddings for maintaining and retrieving information.</p>
<p>Initialization:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">storage</span></code>: Optional BaseVectorStorage (default: <code class="docutils literal notranslate"><span class="pre">QdrantStorage</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">embedding</span></code>: Optional BaseEmbedding (default: <code class="docutils literal notranslate"><span class="pre">OpenAIEmbedding</span></code>)</p></li>
</ul>
<p>Methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">retrieve()</span></code>: Get similar records based on a keyword</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">write_records()</span></code>: Convert and write new records to the vector database</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clear()</span></code>: Remove all records from the vector database</p></li>
</ul>
<p>Use Case: Better for retrieving semantically relevant information across a large set of messages.</p>
<p>Key Differences:</p>
<ol class="arabic simple">
<li><p>Storage Mechanism: <code class="docutils literal notranslate"><span class="pre">ChatHistoryBlock</span></code> uses key-value storage, <code class="docutils literal notranslate"><span class="pre">VectorDBBlock</span></code> uses vector database storage.</p></li>
<li><p>Retrieval Method: <code class="docutils literal notranslate"><span class="pre">ChatHistoryBlock</span></code> retrieves based on recency, <code class="docutils literal notranslate"><span class="pre">VectorDBBlock</span></code> retrieves based on semantic similarity.</p></li>
<li><p>Data Representation: <code class="docutils literal notranslate"><span class="pre">ChatHistoryBlock</span></code> stores messages in original form, <code class="docutils literal notranslate"><span class="pre">VectorDBBlock</span></code> converts to vector embeddings.</p></li>
</ol>
</section>
</section>
<section id="agent-memory-implementations">
<h2>5. Agent Memory Implementations<a class="headerlink" href="#agent-memory-implementations" title="Link to this heading">#</a></h2>
<section id="chathistorymemory">
<h3>5.1 ChatHistoryMemory<a class="headerlink" href="#chathistorymemory" title="Link to this heading">#</a></h3>
<p>An AgentMemory implementation that wraps ChatHistoryBlock.</p>
<p>Initialization:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">context_creator</span></code>: <code class="docutils literal notranslate"><span class="pre">BaseContextCreator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">storage</span></code>: Optional <code class="docutils literal notranslate"><span class="pre">BaseKeyValueStorage</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">window_size</span></code>: Optional int for retrieval window</p></li>
</ul>
<p>Methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">retrieve()</span></code>: Get recent chat messages</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">write_records()</span></code>: Write new records to chat history</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_context_creator()</span></code>: Get the context creator</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clear()</span></code>: Remove all chat messages</p></li>
</ul>
</section>
<section id="vectordbmemory">
<h3>5.2 VectorDBMemory<a class="headerlink" href="#vectordbmemory" title="Link to this heading">#</a></h3>
<p>An <code class="docutils literal notranslate"><span class="pre">AgentMemory</span></code> implementation that wraps <code class="docutils literal notranslate"><span class="pre">VectorDBBlock</span></code>.</p>
<p>Initialization:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">context_creator</span></code>: <code class="docutils literal notranslate"><span class="pre">BaseContextCreator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">storage</span></code>: Optional <code class="docutils literal notranslate"><span class="pre">BaseVectorStorage</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">retrieve_limit</span></code>: int for maximum number of retrieved messages (default:<code class="docutils literal notranslate"><span class="pre">3</span></code>)</p></li>
</ul>
<p>Methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">retrieve()</span></code>: Get relevant messages from the vector database</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">write_records()</span></code>: Write new records and update current topic</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_context_creator()</span></code>: Get the context creator</p></li>
</ul>
</section>
<section id="longtermagentmemory">
<h3>5.3 LongtermAgentMemory<a class="headerlink" href="#longtermagentmemory" title="Link to this heading">#</a></h3>
<p>Combines ChatHistoryMemory and VectorDBMemory for comprehensive memory management.</p>
<p>Initialization:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">context_creator</span></code>: <code class="docutils literal notranslate"><span class="pre">BaseContextCreator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">chat_history_block</span></code>: Optional <code class="docutils literal notranslate"><span class="pre">ChatHistoryBlock</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vector_db_block</span></code>: Optional <code class="docutils literal notranslate"><span class="pre">VectorDBBlock</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">retrieve_limit</span></code>: int for maximum number of retrieved messages (default: <code class="docutils literal notranslate"><span class="pre">3</span></code>)</p></li>
</ul>
<p>Methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">retrieve()</span></code>: Get context from both chat history and vector database</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">write_records()</span></code>: Write new records to both chat history and vector database</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_context_creator()</span></code>: Get the context creator</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clear()</span></code>: Remove all records from both memory blocks</p></li>
</ul>
</section>
<section id="mem0storage-integration">
<h3>5.4 Mem0Storage Integration<a class="headerlink" href="#mem0storage-integration" title="Link to this heading">#</a></h3>
<p><a class="reference external" href="https://mem0.ai/">Mem0</a> offers cloud-based memory management capabilities that can be seamlessly integrated with CAMEL.</p>
<p>Initialization params of <code class="docutils literal notranslate"><span class="pre">Mem0Storage</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">api_key</span></code>: Optional str for Mem0 API authentication</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">agent_id</span></code>: Optional str to associate memories with an agent</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">user_id</span></code>: Optional str to associate memories with a user</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metadata</span></code>: Optional dictionary of metadata to include with all memories</p></li>
</ul>
<p>The simplest way to use Mem0 is through its <code class="docutils literal notranslate"><span class="pre">Mem0Storage</span></code> backend with <code class="docutils literal notranslate"><span class="pre">ChatHistoryMemory</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">camel.memories</span><span class="w"> </span><span class="kn">import</span> <span class="n">ChatHistoryMemory</span><span class="p">,</span> <span class="n">ScoreBasedContextCreator</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">camel.storages</span><span class="w"> </span><span class="kn">import</span> <span class="n">Mem0Storage</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">camel.types</span><span class="w"> </span><span class="kn">import</span> <span class="n">ModelType</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">camel.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">OpenAITokenCounter</span>

<span class="c1"># Initialize ChatHistoryMemory with Mem0Storage</span>
<span class="n">memory</span> <span class="o">=</span> <span class="n">ChatHistoryMemory</span><span class="p">(</span>
    <span class="n">context_creator</span><span class="o">=</span><span class="n">ScoreBasedContextCreator</span><span class="p">(</span>
        <span class="n">token_counter</span><span class="o">=</span><span class="n">OpenAITokenCounter</span><span class="p">(</span><span class="n">ModelType</span><span class="o">.</span><span class="n">GPT_4O_MINI</span><span class="p">),</span>
        <span class="n">token_limit</span><span class="o">=</span><span class="mi">1024</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">storage</span><span class="o">=</span><span class="n">Mem0Storage</span><span class="p">(</span>
        <span class="n">api_key</span><span class="o">=</span><span class="s2">&quot;your_mem0_api_key&quot;</span><span class="p">,</span>  <span class="c1"># Or set MEM0_API_KEY environment variable</span>
        <span class="n">agent_id</span><span class="o">=</span><span class="s2">&quot;agent123&quot;</span>  <span class="c1"># Unique identifier for this agent</span>
    <span class="p">),</span>
    <span class="n">agent_id</span><span class="o">=</span><span class="s2">&quot;agent123&quot;</span>  <span class="c1"># Should match the storage agent_id</span>
<span class="p">)</span>

<span class="c1"># Create and write new records</span>
<span class="n">records</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">MemoryRecord</span><span class="p">(</span>
        <span class="n">message</span><span class="o">=</span><span class="n">BaseMessage</span><span class="o">.</span><span class="n">make_user_message</span><span class="p">(</span>
            <span class="n">role_name</span><span class="o">=</span><span class="s2">&quot;User&quot;</span><span class="p">,</span>
            <span class="n">content</span><span class="o">=</span><span class="s2">&quot;What is CAMEL AI?&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">role_at_backend</span><span class="o">=</span><span class="n">OpenAIBackendRole</span><span class="o">.</span><span class="n">USER</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">MemoryRecord</span><span class="p">(</span>
        <span class="n">message</span><span class="o">=</span><span class="n">BaseMessage</span><span class="o">.</span><span class="n">make_assistant_message</span><span class="p">(</span>
            <span class="n">role_name</span><span class="o">=</span><span class="s2">&quot;Agent&quot;</span><span class="p">,</span>
            <span class="n">content</span><span class="o">=</span><span class="s2">&quot;CAMEL-AI.org is the 1st LLM multi-agent framework and &quot;</span>
                    <span class="s2">&quot;an open-source community dedicated to finding the scaling law &quot;</span>
                    <span class="s2">&quot;of agents.&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">role_at_backend</span><span class="o">=</span><span class="n">OpenAIBackendRole</span><span class="o">.</span><span class="n">ASSISTANT</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">]</span>
<span class="n">memory</span><span class="o">.</span><span class="n">write_records</span><span class="p">(</span><span class="n">records</span><span class="p">)</span>


<span class="c1"># Get context for the agent</span>
<span class="n">context</span><span class="p">,</span> <span class="n">token_count</span> <span class="o">=</span> <span class="n">memory</span><span class="o">.</span><span class="n">get_context</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Retrieved context (token count: </span><span class="si">{</span><span class="n">token_count</span><span class="si">}</span><span class="s2">):&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">context</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; Retrieved context (token count: 49):
{&#39;role&#39;: &#39;user&#39;, &#39;content&#39;: &#39;What is CAMEL AI?&#39;}
{&#39;role&#39;: &#39;assistant&#39;, &#39;content&#39;: &#39;CAMEL-AI.org is the 1st LLM multi-agent framework and an open-source community dedicated to finding the scaling law of agents.&#39;}
</pre></div>
</div>
<p>This approach provides cloud persistence for chat history while maintaining the simple sequential retrieval of <code class="docutils literal notranslate"><span class="pre">ChatHistoryMemory</span></code>. The key features include:</p>
<ol class="arabic simple">
<li><p>Cloud persistence of chat history</p></li>
<li><p>Simple setup and configuration</p></li>
<li><p>Sequential retrieval based on conversation order</p></li>
<li><p>Automatic synchronization across sessions</p></li>
</ol>
<p>Choose this approach when you need reliable cloud storage for your chat history without complex semantic search requirements.</p>
</section>
</section>
<section id="advanced-topics">
<h2>6. Advanced Topics<a class="headerlink" href="#advanced-topics" title="Link to this heading">#</a></h2>
<section id="customizing-context-creator">
<h3>6.1 Customizing Context Creator<a class="headerlink" href="#customizing-context-creator" title="Link to this heading">#</a></h3>
<p>You can create custom context creators by subclassing <code class="docutils literal notranslate"><span class="pre">BaseContextCreator</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">camel.memories</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseContextCreator</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyCustomContextCreator</span><span class="p">(</span><span class="n">BaseContextCreator</span><span class="p">):</span>
    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">token_counter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Implement your token counting logic</span>
        <span class="k">return</span> 

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">token_limit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">1000</span>  <span class="c1"># Or any other limit</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_context</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">records</span><span class="p">):</span>
        <span class="c1"># Implement your context creation logic</span>
        <span class="k">pass</span>

</pre></div>
</div>
</section>
<section id="customizing-vector-database-block">
<h3>6.2 Customizing Vector Database Block<a class="headerlink" href="#customizing-vector-database-block" title="Link to this heading">#</a></h3>
<p>For <code class="docutils literal notranslate"><span class="pre">VectorDBBlock</span></code>, you can customize it by adjusting the embedding models or vector storages:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">camel.embeddings</span><span class="w"> </span><span class="kn">import</span> <span class="n">OpenAIEmbedding</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">camel.memories</span><span class="w"> </span><span class="kn">import</span> <span class="n">VectorDBBlock</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">camel.storages</span><span class="w"> </span><span class="kn">import</span> <span class="n">QdrantStorage</span>

<span class="n">vector_db</span> <span class="o">=</span> <span class="n">VectorDBBlock</span><span class="p">(</span>
    <span class="n">embedding</span><span class="o">=</span><span class="n">OpenAIEmbedding</span><span class="p">(),</span>
    <span class="n">storage</span><span class="o">=</span><span class="n">QdrantStorage</span><span class="p">(</span><span class="n">vector_dim</span><span class="o">=</span><span class="n">OpenAIEmbedding</span><span class="p">()</span><span class="o">.</span><span class="n">get_output_dim</span><span class="p">()),</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="performance-considerations">
<h3>6.3 Performance Considerations<a class="headerlink" href="#performance-considerations" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>For large-scale applications, consider using persistent storage backends instead of in-memory storage.</p></li>
<li><p>Optimize your context creator to balance between context relevance and token limits.</p></li>
<li><p>When using <code class="docutils literal notranslate"><span class="pre">VectorDBMemory</span></code>, be mindful of the trade-off between retrieval accuracy and speed as the database grows.</p></li>
</ul>
</section>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="messages.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Message</p>
      </div>
    </a>
    <a class="right-next"
       href="tools.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Tools</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#concept">1. Concept</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#get-started">2. Get Started</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-usage">2.1 Basic Usage</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#core-components">3. Core Components</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#memoryrecord">3.1 MemoryRecord</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#contextrecord">3.2 ContextRecord</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#memoryblock-abstract-base-class">3.3 MemoryBlock (Abstract Base Class)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#basecontextcreator-abstract-base-class">3.4 BaseContextCreator (Abstract Base Class)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#agentmemory-abstract-base-class">3.5 AgentMemory (Abstract Base Class)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#memory-block-implementations">4. Memory Block Implementations</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#chathistoryblock">4.1 ChatHistoryBlock</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vectordbblock">4.2 VectorDBBlock</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#agent-memory-implementations">5. Agent Memory Implementations</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#chathistorymemory">5.1 ChatHistoryMemory</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vectordbmemory">5.2 VectorDBMemory</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#longtermagentmemory">5.3 LongtermAgentMemory</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mem0storage-integration">5.4 Mem0Storage Integration</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#advanced-topics">6. Advanced Topics</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#customizing-context-creator">6.1 Customizing Context Creator</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#customizing-vector-database-block">6.2 Customizing Vector Database Block</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#performance-considerations">6.3 Performance Considerations</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By CAMEL-AI.org
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024, CAMEL-AI.org.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>